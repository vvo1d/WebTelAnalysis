<!-- templates/graph.html -->
{% extends "base.html" %}
{% block content %}
    <h1>Граф связей участников</h1>
    <div id="mynetwork" style="width: 100%; height: 600px;"></div>
    <script type="text/javascript" src="https://unpkg.com/vis-network@9.0.4/dist/vis-network.min.js"></script>
    <script type="text/javascript">
        var nodes = new vis.DataSet({{ graph_data.nodes|tojson }});
        var edges = new vis.DataSet({{ graph_data.links|tojson }});
        var container = document.getElementById('mynetwork');
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {
            nodes: {
                shape: 'dot',
                size: 15,
                font: {
                    size: 14,
                    color: '#000'
                }
            },
            edges: {
                arrows: 'to',
                color: '#ccc'
            },
            physics: {
                enabled: true
            },
            interaction: {
                hover: true
            }
        };
        var network = new vis.Network(container, data, options);
    </script>
{% endblock %}
